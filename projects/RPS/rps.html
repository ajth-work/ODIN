<html>

<head>

</head>

<body>
    <p>This is a test for the RPS Project.</p>
</body>
<script>
    function computerPlay() {
        // the computer randomly returns either "rock", "paper", or "scissors"
        let choices, computerChoice;
        choices = ["rock", "paper", "scissors"]
        computerChoice = choices[Math.floor(Math.random() * choices.length)]
        console.log(`Computer has made its move.`);
        return computerChoice;
    };

    function playRPS(playerSelection, computerSelection) {
        computerSelection = computerPlay();
        playerSelection = prompt("Type rock (r), paper (p), or scissors (s), please!").toLowerCase();
        console.log(playerSelection)
        let roundResult;
        switch (playerSelection) {
            case playerSelection[0] == "r":
                playerSelection = "rock";
                break;
            case playerSelection[0] == "P":
                playerSelection = "paper";
                break;
            case playerSelection[0] == "s":
                playerSelection = "scissors";
                break;
        }
        if (
            (playerSelection[0] == "r" && computerSelection[0] == "s")
            || (playerSelection[0] == "p" && computerSelection[0] == "r")
            || (playerSelection[0] == "s" && computerSelection[0] == "p")
        ) {
            roundResult = "win";
            console.log(`You won! You chose [${playerSelection}] and Computer chose [${computerSelection}].`)
        } else if (playerSelection == computerSelection) {
            roundResult = "tie";
            console.log(`You tied. You and Computer both chose [${computerSelection}].`)
        } else {
            roundResult = "lose";
            console.log(`You lost! You chose [${playerSelection}] and Computer chose [${computerSelection}].`);
        } return roundResult;
    }

    const num = Number(prompt("How many times would you like to play? (numbers only, please)"));
    console.log(num);

    function game(num) {
        let winCount = 0, loseCount = 0, tieCount = 0;
        for (let i = 0; i < num; i++) {
            let someValue = playRPS();
            if (someValue == "win") {
                winCount++;
            } else if (someValue == "lose") {
                loseCount++;
            } else if (someValue == "tie") {
                tieCount++;
            }
            console.log(`Wins: ${winCount} | Loses: ${loseCount} | Ties: ${tieCount} || Matches Remaining: ${(num - i) - 1}`);
        } return alert(`${num} match(es) completed! You won ${Math.floor(((winCount / num) * 100))}% of the matches. Thanks for playing.`);
    };
    console.log(game(num));
</script>

</html>